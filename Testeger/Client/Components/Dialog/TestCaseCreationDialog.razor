@page "/dialogcard/create-test-case"
@attribute [Authorize]

<TestCaseCreationForm
    OnFormSubmitted="HandleValidSubmit"
    ProjectId="@ProjectId"
    TestRequestId="@RequestId">
</TestCaseCreationForm>

@code {
    [Parameter]
    public required string RequestId { get; set; }

    [Parameter]
    public required string ProjectId { get; set; }

    [Parameter]
    public EventCallback OnTestCaseAdded { get; set; }

    private async Task HandleValidSubmit()
    {
        await OnTestCaseAdded.InvokeAsync();
        await InvokeAsync(StateHasChanged);
    }
}
